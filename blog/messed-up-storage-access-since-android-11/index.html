<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="alexmercerind RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="alexmercerind Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-222584022-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Amatic+SC&family=Roboto:wght@100;300;400&display=swap">
<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7639513162093316" crossorigin="anonymous"></script><title data-rh="true">Messed up storage access since Android 11 | alexmercerind</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://alexmercerind.com/blog/messed-up-storage-access-since-android-11"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="keywords" content="software, software-development, programming, flutter, react, alexmercerind"><meta data-rh="true" property="og:title" content="Messed up storage access since Android 11 | alexmercerind"><meta data-rh="true" name="description" content="Android recently introduced Scoped Storage with things like Storage Access Framework &amp; MediaStore."><meta data-rh="true" property="og:description" content="Android recently introduced Scoped Storage with things like Storage Access Framework &amp; MediaStore."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-09-01T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/alexmercerind"><meta data-rh="true" property="article:tag" content="flutter,android,scoped-storage,storage-access-framework,media-store,saf"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://alexmercerind.com/blog/messed-up-storage-access-since-android-11"><link data-rh="true" rel="alternate" href="https://alexmercerind.com/blog/messed-up-storage-access-since-android-11" hreflang="en"><link data-rh="true" rel="alternate" href="https://alexmercerind.com/blog/messed-up-storage-access-since-android-11" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4dc5a4c4.css">
<link rel="preload" href="/assets/js/runtime~main.dc5ffb89.js" as="script">
<link rel="preload" href="/assets/js/main.9fd13e7e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/donate">Donate</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/alexmercerind" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><a href="https://twitter.com/alexmercerind" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link"></a><a href="https://www.linkedin.com/hitesh-kumar-saini" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link"></a><a href="#" class="navbar__item navbar__link header-discord-link"></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_a9qW thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_uKok margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Kvuv"><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/my-view-rust-cpp-linux-2022">My View: Rust, C++, Linux Kernel &amp; 2022</a></li><li class="sidebarItem_CF0Q"><a aria-current="page" class="sidebarItemLink_miNk sidebarItemLinkActive_RRTD" href="/blog/messed-up-storage-access-since-android-11">Messed up storage access since Android 11</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/animations-in-flutter-done-right">Animations in Flutter done right [Flutter 2 &amp; 3]</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/cpp-future-async-sync-multi-threading">C++&#x27;s &lt;future&gt;, making async C callbacks functions sync &amp; enjoyable multi-threading</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_uMeh" itemprop="headline">Messed up storage access since Android 11</h1><div class="blogPostData_Vfxe margin-vert--md"><time datetime="2022-09-01T00:00:00.000Z" itemprop="datePublished">September 1, 2022</time> · <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/alexmercerind" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://github.com/alexmercerind.png" alt="Hitesh"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/alexmercerind" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Hitesh</span></a></div><small class="avatar__subtitle" itemprop="description">Flutter &amp; React.js developer. Writes C++, Dart, JS &amp; Python. Maintains few utility libraries. Beautiful UI &lt;3</small></div></div></div></div></header><div class="markdown"><p>Android recently introduced <a href="https://developer.android.com/about/versions/11/privacy/storage" target="_blank" rel="noopener noreferrer">Scoped Storage</a> with things like <a href="https://developer.android.com/guide/topics/providers/document-provider" target="_blank" rel="noopener noreferrer">Storage Access Framework</a> &amp; <a href="https://developer.android.com/reference/android/provider/MediaStore" target="_blank" rel="noopener noreferrer">MediaStore</a>.</p><p>To put it simply, it&#x27;s entirely messed up. There are number of use-cases which haven&#x27;t been covered, I&#x27;ve seen users struggling after Android 10 &amp; developers even more.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="the-situation">The Situation<a class="hash-link" href="#the-situation" title="Direct link to heading">​</a></h2><p>To begin with, first of all, I won&#x27;t call myself an Android developer because I never target Android primarily from my codebase. I&#x27;m instead a <a href="http://flutter.dev/" target="_blank" rel="noopener noreferrer">Flutter</a> developer, a specialized framework which allows to build cross-platform applications from a single codebase, while leveraging native functionalities like permissions, notifications &amp; media playback etc. through a mechanism we refer as <a href="https://docs.flutter.dev/development/platform-integration/platform-channels" target="_blank" rel="noopener noreferrer">platform channels</a>.
Flutter is a framework in/for Dart programming language, which also allows native-interop with C/C++ through <a href="https://dart.dev/guides/libraries/c-interop" target="_blank" rel="noopener noreferrer">FFI</a>, after-all not having C/C++ interop capability for any language/framework will be a really annoying thing.</p><p>Now to the actual mess, before Android 10 i.e. Android 9 or lower, any app that you install on your system could access your phone&#x27;s storage, the directories &amp; various files in it, without any consent (obviously not very privacy friendly).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="history--present">History &amp; Present<a class="hash-link" href="#history--present" title="Direct link to heading">​</a></h2><ul><li>During API 28 or lower (Android 9 or lower), a developer had access to file system.</li><li>After API 29 (Android 10), file system access is disabled by default everything is interpreted as <code>content://</code> URI instead of <code>file://</code>. During this time they provided a special flag to opt out of this scoped storage &amp; use good-old file system methods. See: <a href="https://developer.android.com/training/data-storage/use-cases#opt-out-in-production-app" target="_blank" rel="noopener noreferrer"><code>requestLegacyExternalStorage</code></a>.</li><li>After API 30 (Android 11+), you can no longer access <code>file://</code> or file-system at all, unless you keep targetting API 29.</li></ul><p>This has been done for &quot;user privacy&quot;, but please continue reading till <a href="#heres-the-point">Here&#x27;s The Point</a>.</p><p>Google &amp; Android team thought, it&#x27;s not fun enough so they entirely removed the capability to access, list or read a file/directory using it&#x27;s path. I know it&#x27;s still possible to use file paths using some trickery, but for the most part it has been told by the official documentation to not use file paths at all, when referencing any media or file on the storage. So, what are they recommending? <a href="https://www.androidcentral.com/what-scoped-storage" target="_blank" rel="noopener noreferrer">Scoped Storage</a> with things like <a href="https://developer.android.com/guide/topics/providers/document-provider" target="_blank" rel="noopener noreferrer">Storage Access Framework</a> &amp; <a href="https://developer.android.com/reference/android/provider/MediaStore" target="_blank" rel="noopener noreferrer">MediaStore</a>. Let&#x27;s cover these in detail.</p><p><strong>NOTE:</strong> Android still allows accessing all of the filesystem (on API 31 or higher), using <a href="https://support.google.com/googleplay/android-developer/answer/10467955?hl=en" target="_blank" rel="noopener noreferrer"><code>MANAGE_EXTERNAL_STORAGE</code></a>. But the chances are, your app will be definitely disqualified from entering Play Store. Only file managers, anti-viruses &amp; backup utilities etc. will be allowed with this permission.</p><p>And you never know, what if they even remove <a href="https://support.google.com/googleplay/android-developer/answer/10467955?hl=en" target="_blank" rel="noopener noreferrer"><code>MANAGE_EXTERNAL_STORAGE</code></a> in future updates.</p><p>In summary, here are few core points:</p><ul><li>You cannot access <code>Android/data</code> &amp; <code>Android/obb</code> of other applications.</li><li>You can no longer access any file or directory on user&#x27;s storage without permissions, especially if it&#x27;s not made/created by your app. For sure, a good thing, ask for permission. But, it&#x27;ll just get worse from this point on.</li><li>You can no longer ask user to pick a folder &amp; read it&#x27;s contents permanently for displaying inside app. See <a href="https://developer.android.com/training/data-storage/shared/documents-files#grant-access-directory" target="_blank" rel="noopener noreferrer">ACTION_OPEN_DOCUMENT_TREE</a>.<ul><li>Even if user gives the permission, you CANNOT access:<ul><li><code>Downloads</code> folder. Are you crazy?</li><li>Internal storage or SD card&#x27;s root directory. How do I look for content matching my app&#x27;s compatibility &amp; requirement?</li><li>Those <code>Android/data</code> &amp; <code>Android/obb</code> folders.</li></ul></li><li>Once the user gives you permission, even with above restrictions, it&#x27;s not permanent. How do I update the things inside the app next time user wants to just browse his music library inside my app.</li></ul></li><li>If you want to access any media from user&#x27;s storage, you need to use <a href="https://developer.android.com/reference/android/provider/MediaStore" target="_blank" rel="noopener noreferrer">MediaStore</a>. BUT:<ul><li>Google has decided which mime &amp; format is &quot;audio&quot;, which mime &amp; format is a picture, what if it&#x27;s a image in <a href="https://github.com/phoboslab/qoi" target="_blank" rel="noopener noreferrer">Quite OK image format</a> &amp; I want to show users all photos inside user&#x27;s phone including this format.</li><li>Last time I looked-up, even OGG (OPUS) was not being recognized as an &quot;audio&quot;.</li><li>It&#x27;s like you&#x27;re restricting the creativity. Thinking of your &quot;common use-cases&quot; as the only possibility in this universe.</li></ul></li><li>According to official team, even if you use file paths &amp; copy etc. operations, they are still delegated to <a href="https://developer.android.com/reference/android/provider/MediaStore" target="_blank" rel="noopener noreferrer">MediaStore</a> internally, to fuck performance &amp; unnecessarily ruining the speeds.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-not-good">What&#x27;s Not Good<a class="hash-link" href="#whats-not-good" title="Direct link to heading">​</a></h2><p>I work on <a href="https://github.com/harmonoid/harmonoid" target="_blank" rel="noopener noreferrer">Harmonoid</a>, a music library manager &amp; player for Windows, Linux &amp; Android. You can expect a lot of internal logic is shared accross all platforms especially related to media indexing &amp; file system handling.
After Android&#x27;s this migration to it&#x27;s &quot;specialized&quot; APIs, it renders application obsolete for Android &amp; I have to write same implementation in Kotlin separately along-side existing file-system based implementation to target Android. Not to forget, application still uses a small (~200 lines) of native Kotlin code to invoke <a href="https://developer.android.com/reference/android/media/MediaMetadataRetriever" target="_blank" rel="noopener noreferrer"><code>MediaMetadataRetriever</code></a> to extract audio data &amp; album arts.</p><ul><li>What if I wish to use <a href="https://github.com/taglib/taglib" target="_blank" rel="noopener noreferrer">taglib</a>, a well known tagging libraries in C++ used by VLC &amp; more. Does Android, the open source operating system restricts it&#x27;s usage because it doesn&#x27;t interpret Android&#x27;s stupidity about files/directories?</li><li>Currently, one of the unique features of <a href="https://github.com/harmonoid/harmonoid" target="_blank" rel="noopener noreferrer">Harmonoid</a> is that I have added ability to select multiple folders &amp; include inside music library. This is because no-one wants to see their audio recordings or WhatsApp audios inside a music app, I also hated it.</li><li>Most media players lookup for fallback album arts (when an audio file doesn&#x27;t have an embedded one) inside the song&#x27;s directory. See <a href="https://code.videolan.org/videolan/vlc/-/blob/master/modules/meta_engine/folder.c#L40-55" target="_blank" rel="noopener noreferrer">these lines of VLC&#x27;s C source code</a>. Now that file system is gone on Android, how do I handle this.</li><li>A core feature of <a href="https://github.com/harmonoid/harmonoid" target="_blank" rel="noopener noreferrer">Harmonoid</a> is to show available lyrics for the song, this happens by either one of the two:<ul><li>Selecting <a href="https://en.wikipedia.org/wiki/LRC_(file_format)" target="_blank" rel="noopener noreferrer"><code>.LRC</code> file</a> manually for a song present inside app. Yeah, it&#x27;s annoying. <a href="https://developer.android.com/guide/topics/providers/document-provider" target="_blank" rel="noopener noreferrer">Storage Access Framework</a> could likely still support it, since it requires explicit file picking from user &amp; copying to local cache dir.</li><li>Looking for the <code>.LRC</code> inside audio file&#x27;s folder (having same name) &amp; loading automatically.</li></ul></li><li>There is no way to efficiently use <a href="https://developer.android.com/reference/android/provider/MediaStore" target="_blank" rel="noopener noreferrer">MediaStore</a> inside Flutter, even if I wish to switch away from current massively stable &amp; efficient implementation of <a href="https://github.com/alexmercerind/media_library.git" target="_blank" rel="noopener noreferrer">package:media_library</a>. Accessing files, reading metadata tags &amp; displaying album arts in a way that it supports all platforms? Likely impossible according to Android team. See: <a href="https://github.com/flutter/flutter/issues/57380" target="_blank" rel="noopener noreferrer">flutter/flutter#57380</a>.</li><li>To make matters worse, both Flutter &amp; Android are from Google &amp; share no &quot;compatiblity&quot;. </li></ul><p><strong>I&#x27;m sure there are many many other awesome &amp; creative apps (which utilise a common thing as filesystem to build a unique experience), will all be kicked out of Play Store now. Thinking uniquely is slowly being disregarded on this planet now.</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="heres-the-point">Here&#x27;s The Point<a class="hash-link" href="#heres-the-point" title="Direct link to heading">​</a></h2><p><em>Google &amp; it&#x27;s Android is the REAL THREAT TO USER PRIVACY, not some passionate application developer building a good digital experience for users while not even possibly requesting internet permission. I never know when my microphone or camera is active or being recorded to feed your advertising system.</em></p><p>One of the biggest reasons I liked Android over iOS was it&#x27;s open-ness &amp; ability to anything. Looks like there&#x27;s going to be a big demand of <a href="https://itsfoss.com/linux-phones/" target="_blank" rel="noopener noreferrer">Linux smartphones</a> in the market soon. I don&#x27;t want yet another iOS.</p><ul><li>Stop (Android OS &amp; Google) deciding which file/format extension is for what usage.</li><li>Stop deciding what&#x27;s a media format &amp; what&#x27;s not.</li><li>Stop abstracting file system, directories &amp; files. Everyone has great idea of how files work, both users &amp; developers.</li></ul><p>Okay, privacy is a good thing. BUT, why on earth is it implemented using <a href="https://developer.android.com/guide/topics/providers/document-provider" target="_blank" rel="noopener noreferrer">Storage Access Framework</a> &amp; <a href="https://developer.android.com/reference/android/provider/MediaStore" target="_blank" rel="noopener noreferrer">MediaStore</a>. I don&#x27;t want these garbage services to run in background &amp; iterate over my file directories to update their entries of available media automatically. Why you couldn&#x27;t:</p><p><strong>Just restrict access to file contents or file system unless user consented (probably based on mime or file-extension), while keeping filesystem API usage available. As simple as that.</strong></p><p>As a user, I think everyone quite literally understands &amp; knows what a directory structure &amp; file system looks like. I cannot comprehend what&#x27;s the necessity to build these unnecessary abstractions over the normal file-system access like every operating system provides.
Not providing developers access to thing as common as file-system, you&#x27;re simply breaking the norm. This simply means that you can&#x27;t use your existing logic, code &amp; libraries which you use for other platforms. Since I&#x27;m a Flutter developer, I believe in unifying the APIs &amp; being as less platform specific as possible.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="side-effects">Side Effects<a class="hash-link" href="#side-effects" title="Direct link to heading">​</a></h2><p>Just wanted to include this section &amp; it&#x27;s bit of personal too (just like this blogging page).</p><ul><li>If you recently observed, images &amp; videos from WhatsApp are no longer visible in your Phone&#x27;s gallery &amp; there is no <code>WhatsApp</code> folder in your storage either (where it used to).<ul><li><a href="https://developer.android.com/about/versions/11/privacy/storage" target="_blank" rel="noopener noreferrer">Scoped Storage</a> is the cause. I can no longer copy/move the documents my friends/college sent me.</li><li>To make matters worse, it&#x27;s quite literally impossible to select multiple documents from WhatsApp &amp; attach it to an e-mail.</li><li>You gotta go through those <a href="https://developer.android.com/guide/topics/providers/document-provider" target="_blank" rel="noopener noreferrer"><code>ACTION_OPEN_DOCUMENT</code></a>s couple of times.</li></ul></li><li>One of my friend plays the game <a href="https://play.google.com/store/apps/details?id=com.mobile.legends&amp;hl=en_IN&amp;gl=US" target="_blank" rel="noopener noreferrer">Mobile Legends</a>.<ul><li>According to him, the game fetches a large numer of in-game assets (around 5-6 GB) for skins, textures etc.</li><li>Since downloading these files on every device is redundant &amp; essentially wastage of internet connection, he &amp; his friends used to share these &quot;assets&quot; &amp; copy at required locations on multiple devices from one device (where it was downloaded).</li><li>This is no longer possible, atleast the copy speeds are really slow as compared to pre API 29.</li><li>This essentially shows, how in-efficient &amp; unfriendly this redundantly made implementation built into the operating system is.</li></ul></li></ul><p>What a degradation.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="end-notes">End Notes<a class="hash-link" href="#end-notes" title="Direct link to heading">​</a></h2><p>As I said at the beginning of this, I&#x27;m actually a Flutter developer &amp; mainly I have experience in Windows &amp; Linux application development &amp; their native APIs.</p><p>From my experience (so far) working with other Flutter developers &amp; being part of community, I don&#x27;t think average or even intermediate Flutter developer has any knowledge of device-specific APIs &amp; garbage like <a href="https://developer.android.com/guide/topics/providers/document-provider" target="_blank" rel="noopener noreferrer">Storage Access Framework</a> &amp; <a href="https://developer.android.com/reference/android/provider/MediaStore" target="_blank" rel="noopener noreferrer">MediaStore</a> at all (because these are part of Android SDK).</p><p>This means re-writing all the functionality specifically for Android separately because APIs from <a href="https://api.flutter.dev/flutter/dart-io/dart-io-library.html" target="_blank" rel="noopener noreferrer"><code>dart:io</code></a> or libraries written completely in Dart or leveraging FFI likely won&#x27;t work at all for your purpose.</p><p>Working with Android SDK has always been painful, deprecated APIs left &amp; right after every release. As someone who never was into Android development specifically, you have no clear idea where to begin &amp; where to end. Jetpack Compose, XML, Kotlin, Java alongside these random things like content-provider, content-resolver, media-store, SAF being added for no reason, while core things like file system handling being removed from the operating system &amp; API.</p><p>For now, I have zero motivation to migrate to this &quot;new &amp; better&quot; API which will take away many cool features of my application. Let&#x27;s see if I have to open Android Studio &amp; contribute to global warming while running it.</p><p>Thanks for reading! No features this year, just refactor.</p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_enUA"><div class="col"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/flutter">flutter</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/android">android</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/scoped-storage">scoped-storage</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/storage-access-framework">storage-access-framework</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/media-store">media-store</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/saf">saf</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/my-view-rust-cpp-linux-2022"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">My View: Rust, C++, Linux Kernel &amp; 2022</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/animations-in-flutter-done-right"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Animations in Flutter done right [Flutter 2 &amp; 3]</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_cNA8 thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-situation" class="table-of-contents__link toc-highlight">The Situation</a></li><li><a href="#history--present" class="table-of-contents__link toc-highlight">History &amp; Present</a></li><li><a href="#whats-not-good" class="table-of-contents__link toc-highlight">What&#39;s Not Good</a></li><li><a href="#heres-the-point" class="table-of-contents__link toc-highlight">Here&#39;s The Point</a></li><li><a href="#side-effects" class="table-of-contents__link toc-highlight">Side Effects</a></li><li><a href="#end-notes" class="table-of-contents__link toc-highlight">End Notes</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/alexmercerind" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/alexmercerind" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/hitesh-kumar-saini" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Hitesh Kumar Saini. Built with React.js.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.dc5ffb89.js"></script>
<script src="/assets/js/main.9fd13e7e.js"></script>
</body>
</html>