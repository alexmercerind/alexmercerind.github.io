"use strict";(self.webpackChunkalexmercerind_github_io=self.webpackChunkalexmercerind_github_io||[]).push([[65],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return c}});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},d=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,l=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=s(a),c=i,k=u["".concat(p,".").concat(c)]||u[c]||m[c]||l;return a?n.createElement(k,r(r({ref:t},d),{},{components:a})):n.createElement(k,r({ref:t},d))}));function c(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=a.length,r=new Array(l);r[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var s=2;s<l;s++)r[s]=a[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},7905:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(5861),i=a(7757),l=a.n(i),r=a(7294),o=a(5529),p=a(5742),s="iconBar_ZOQh",d="icon_pT5I",m="iconLabel_q6Wh",u="iconContainer__tjb";function c(e){var t,a,i,c=e.repository,k=e.type,h=(0,r.useState)(null),g=h[0],N=h[1];return(0,r.useEffect)((0,n.Z)(l().mark((function e(){var t,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.github.com/repos/"+c);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,N(a);case 7:case"end":return e.stop()}}),e)}))),[]),r.createElement("div",null,r.createElement(p.Z,null,r.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&display=swap",rel:"stylesheet"})),r.createElement("a",{target:"_blank",href:"https://github.com/"+c},"GitHub")," \u2022 ","pub.dev"==k?r.createElement("a",{target:"_blank",href:"https://pub.dev/packages/"+c.split("/")[c.split("/").length-1]},"pub.dev"):r.createElement("a",{target:"_blank",href:"https://pypi.org/project/"+c.split("/")[c.split("/").length-1]},"PyPI.org")," \u2022 Give us a \u2b50 on GitHub.",r.createElement("div",{className:s},r.createElement("div",{className:u},r.createElement("div",{className:d},r.createElement(o.r7p,{size:"small"})),r.createElement("div",{className:m},(null!=(t=null==g?void 0:g.stargazers_count)?t:"Unknown")+" Stars")),r.createElement("div",{className:u},r.createElement("div",{className:d},r.createElement(o.jcu,{size:"small"})),r.createElement("div",{className:m},(null!=(a=null==g?void 0:g.forks_count)?a:"Unknown")+" Forks")),r.createElement("div",{className:u},r.createElement("div",{className:d},r.createElement(o.tEF,{size:"small"})),r.createElement("div",{className:m},(null!=(i=null==g?void 0:g.subscribers_count)?i:"Unknown")+" Watchers"))))}},8290:function(e,t,a){a.r(t),a.d(t,{assets:function(){return m},contentTitle:function(){return s},default:function(){return k},frontMatter:function(){return p},metadata:function(){return d},toc:function(){return u}});var n=a(7462),i=a(3366),l=(a(7294),a(3905)),r=a(7905),o=["components"],p={id:"dart_vlc",title:"dart_vlc",image:"https://alexmercerind.github.io/img/dart_vlc/0.webp",description:"Flutter media playback, broadcast, recording & chromecast library for Windows, Linux & macOS.",hide_title:!0},s="dart_vlc",d={unversionedId:"dart_vlc",id:"dart_vlc",title:"dart_vlc",description:"Flutter media playback, broadcast, recording & chromecast library for Windows, Linux & macOS.",source:"@site/docs/dart_vlc.md",sourceDirName:".",slug:"/dart_vlc",permalink:"/docs/dart_vlc",tags:[],version:"current",frontMatter:{id:"dart_vlc",title:"dart_vlc",image:"https://alexmercerind.github.io/img/dart_vlc/0.webp",description:"Flutter media playback, broadcast, recording & chromecast library for Windows, Linux & macOS.",hide_title:!0},sidebar:"defaultSidebar",next:{title:"flutter_acrylic",permalink:"/docs/flutter_acrylic"}},m={},u=[{value:"Installation",id:"installation",level:2},{value:"Tutorial",id:"tutorial",level:2},{value:"Initialize the library",id:"initialize-the-library",level:3},{value:"Create a new Player",id:"create-a-new-player",level:3},{value:"Create a media for playback",id:"create-a-media-for-playback",level:3},{value:"Create a list of medias using playlist",id:"create-a-list-of-medias-using-playlist",level:3},{value:"Open a media or playlist into a player",id:"open-a-media-or-playlist-into-a-player",level:3},{value:"Control playback",id:"control-playback",level:3},{value:"Traverse through the playlist",id:"traverse-through-the-playlist",level:3},{value:"Manipulate an already playing playlist",id:"manipulate-an-already-playing-playlist",level:3},{value:"Set playback volume &amp; rate",id:"set-playback-volume--rate",level:3},{value:"Get &amp; change playback device",id:"get--change-playback-device",level:3},{value:"Save the video snapshot",id:"save-the-video-snapshot",level:3},{value:"Show the video inside widget tree.",id:"show-the-video-inside-widget-tree",level:3},{value:"NativeVideo",id:"nativevideo",level:3},{value:"Change user agent",id:"change-user-agent",level:3},{value:"Retrieve metadata of media",id:"retrieve-metadata-of-media",level:3},{value:"Listen to playback events",id:"listen-to-playback-events",level:3},{value:"Set an equalizer",id:"set-an-equalizer",level:3},{value:"Broadcast a media",id:"broadcast-a-media",level:3},{value:"Record a media",id:"record-a-media",level:3},{value:"Setup",id:"setup",level:2},{value:"Windows",id:"windows",level:3},{value:"macOS",id:"macos",level:3},{value:"Linux",id:"linux",level:3},{value:"iOS WIP",id:"ios-wip",level:3},{value:"Example",id:"example",level:2},{value:"Workings",id:"workings",level:2},{value:"Features",id:"features",level:2},{value:"Acknowledgements",id:"acknowledgements",level:2},{value:"Contributions",id:"contributions",level:2},{value:"License",id:"license",level:2},{value:"Vision",id:"vision",level:2}],c={toc:u};function k(e){var t=e.components,a=(0,i.Z)(e,o);return(0,l.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"dart_vlc"},"dart_vlc"),(0,l.kt)("p",null,"\ud83c\udf9e\ufe0f Flutter media playback, broadcast, recording & chromecast library for Windows, Linux & macOS."),(0,l.kt)(r.Z,{repository:"alexmercerind/dart_vlc",type:"pub.dev",mdxType:"DocsHeader"}),(0,l.kt)("h2",{id:"installation"},"Installation"),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Feel free to open a ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/alexmercerind/dart_vlc/issues"},"new issue")," or ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/alexmercerind/dart_vlc/discussions"},"discussion"),", if you found a bug, want new feature \u2728 or need assistance."))),(0,l.kt)("p",null,"Mention in your ",(0,l.kt)("inlineCode",{parentName:"p"},"pubspec.yaml"),"."),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"pub.dev")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"dependencies:\n  ...\n  dart_vlc: ^0.1.9\n")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"GitHub")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"dependencies:\n  dart_vlc:\n    git:\n      url: https://github.com/alexmercerind/dart_vlc.git\n      ref: master\n\ndependency_overrides:\n  dart_vlc_ffi:\n    git:\n      url: https://github.com/alexmercerind/dart_vlc.git\n      ref: master\n      path: ffi\n")),(0,l.kt)("div",{style:{display:"flex",flexDirection:"row",width:"100%",overflowX:"scroll"}},(0,l.kt)("img",{style:{flex:1},src:"/img/dart_vlc/0.webp"}),(0,l.kt)("img",{style:{flex:1},src:"/img/dart_vlc/1.webp"})),(0,l.kt)("h2",{id:"tutorial"},"Tutorial"),(0,l.kt)("p",null,"Checkout ",(0,l.kt)("a",{parentName:"p",href:"#setup"},"Setup")," section to configure plugin on your platform."),(0,l.kt)("h3",{id:"initialize-the-library"},"Initialize the library"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"void main() {\n  DartVLC.initialize();\n  runApp(MyApp());\n}\n")),(0,l.kt)("h3",{id:"create-a-new-player"},"Create a new Player"),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"It is a good idea to create ",(0,l.kt)("inlineCode",{parentName:"p"},"Player")," instance as a class attribute where you can properly ",(0,l.kt)("inlineCode",{parentName:"p"},"dispose")," & control it."))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"final player = Player(id: 69420);\n")),(0,l.kt)("p",null,"For passing VLC CLI arguments, use ",(0,l.kt)("inlineCode",{parentName:"p"},"commandlineArguments")," argument."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"final player = Player(\n  id: 69420,\n  commandlineArguments: ['--no-video'],\n);\n")),(0,l.kt)("h3",{id:"create-a-media-for-playback"},"Create a media for playback"),(0,l.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"When playing a media from the assets, make sure to use the ",(0,l.kt)("inlineCode",{parentName:"p"},"Media.asset")," constructor."))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"Media.file(File('C:/music.mp3'));\n\nMedia.asset('assets/audio/example.mp3');\n\nMedia.network('https://www.example.com/music.aac');\n\n// Clip [Media].\nMedia.network(\n  'https://www.example.com/music.aac',\n  startTime: Duration(seconds: 20),\n  stopTime: Duration(minute: 1),\n);\n")),(0,l.kt)("h3",{id:"create-a-list-of-medias-using-playlist"},"Create a list of medias using playlist"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"final playlist = Playlist(\n  medias: [\n    Media.file(File('C:/music.mp3')),\n    Media.file(File('C:/audio.mp3')),\n    Media.asset('assets/audio/example.mp3'),\n    Media.network('https://www.example.com/music.aac'),\n  ],\n);\n")),(0,l.kt)("h3",{id:"open-a-media-or-playlist-into-a-player"},"Open a media or playlist into a player"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.open(\n  Media.file(File('C:/music0.mp3')),\n  autoStart: true, // Default\n);\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.open(\n  Playlist(\n    medias: [\n      Media.file(File('C:/music0.mp3')),\n      Media.file(File('C:/music1.mp3')),\n      Media.file(File('C:/music2.mp3')),\n    ],\n  ),\n  autoStart: false,\n);\n")),(0,l.kt)("h3",{id:"control-playback"},"Control playback"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.play();\n\nplayer.seek(Duration(seconds: 30));\n\nplayer.pause();\n\nplayer.playOrPause();\n\nplayer.stop();\n")),(0,l.kt)("h3",{id:"traverse-through-the-playlist"},"Traverse through the playlist"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.next();\n\nplayer.back();\n\nplayer.jump(10);\n")),(0,l.kt)("h3",{id:"manipulate-an-already-playing-playlist"},"Manipulate an already playing playlist"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.add(\n  Media.file(File('C:/music0.mp3')),\n);\n\nplayer.remove(4);\n\nplayer.insert(\n  2,\n  Media.file(File('C:/music0.mp3')),\n);\n\nplayer.move(0, 4);\n")),(0,l.kt)("h3",{id:"set-playback-volume--rate"},"Set playback volume & rate"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.setVolume(0.5);\n\nplayer.setRate(1.25);\n")),(0,l.kt)("h3",{id:"get--change-playback-device"},"Get & change playback device"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"List<Device> devices = Devices.all;\n\nplayer.setDevice(devices[0]);\n")),(0,l.kt)("h3",{id:"save-the-video-snapshot"},"Save the video snapshot"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.takeSnapshot(File('C:/save/the/screenshot/here.JPG'), 1920, 1080);\n")),(0,l.kt)("h3",{id:"show-the-video-inside-widget-tree"},"Show the video inside widget tree."),(0,l.kt)("p",null,"Show ",(0,l.kt)("inlineCode",{parentName:"p"},"Video")," in the ",(0,l.kt)("inlineCode",{parentName:"p"},"Widget")," tree."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"NOTE:")," This will cause additional CPU-load due to conversion of video frames to RGBA/BGRA pixel-buffers & ",(0,l.kt)("inlineCode",{parentName:"p"},"Texture")," interop. For better performance, use ",(0,l.kt)("a",{parentName:"p",href:"#nativevideo"},"NativeVideo")," instead."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"class _MyAppState extends State<MyApp> {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Video(\n        player: player,\n        height: 1920.0,\n        width: 1080.0,\n        scale: 1.0, // default\n        showControls: false, // default\n      ),\n    );\n  }\n}\n")),(0,l.kt)("p",null,"By default, ",(0,l.kt)("inlineCode",{parentName:"p"},"Video")," widget's frame size will adapt to the currently playing video.\nTo override this & define custom video frame size, pass ",(0,l.kt)("inlineCode",{parentName:"p"},"videoDimensions")," argument while instanciating ",(0,l.kt)("inlineCode",{parentName:"p"},"Player")," class as follows."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"Player player = Player(\n  id: 69420,\n  videoDimensions: const VideoDimensions(640, 360),\n);\n")),(0,l.kt)("h3",{id:"nativevideo"},"NativeVideo"),(0,l.kt)("p",null,"A more performant ",(0,l.kt)("inlineCode",{parentName:"p"},"Widget")," for showing video inside the ",(0,l.kt)("inlineCode",{parentName:"p"},"Widget")," tree."),(0,l.kt)("p",null,"This ",(0,l.kt)("inlineCode",{parentName:"p"},"Widget")," is ",(0,l.kt)("strong",{parentName:"p"},"more performant")," compared to ",(0,l.kt)("inlineCode",{parentName:"p"},"Video")," & uses ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/alexmercerind/flutter_native_view.git"},"flutter_native_view"),"\nto embed the video output directly without any texture interop or pixel-buffer copy calls."),(0,l.kt)("p",null,"But, it is highly dependent on platform & other limitations apply. In general, this widget is more performant & should be used if possible."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Edit your ",(0,l.kt)("inlineCode",{parentName:"p"},"windows/runner/main.cpp")," as required ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/alexmercerind/flutter_native_view#setup"},"here"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Register the plugin with ",(0,l.kt)("inlineCode",{parentName:"p"},"useFlutterNativeView"),"."))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"void main() {\n  DartVLC.initilize(useFlutterNativeView: true);\n  runApp(MyApp());\n}\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"Pass ",(0,l.kt)("inlineCode",{parentName:"li"},"registerTexture")," as ",(0,l.kt)("inlineCode",{parentName:"li"},"false")," when creating ",(0,l.kt)("inlineCode",{parentName:"li"},"Player")," & use ",(0,l.kt)("inlineCode",{parentName:"li"},"NativeVideo")," widget.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"class _MyAppState extends State<MyApp> {\n  Player player = Player(id: 0, registerTexture: false);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: NativeVideo(\n          player: player,\n          height: 420.0,\n          width: 320.0\n        ),\n      ),\n    );\n  }\n}\n")),(0,l.kt)("p",null,"Thanks to ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/tomassasovsky"},"@tomassasovsky")," for adding visual controls to ",(0,l.kt)("inlineCode",{parentName:"p"},"Video")," widget."),(0,l.kt)("h3",{id:"change-user-agent"},"Change user agent"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.setUserAgent(userAgent);\n")),(0,l.kt)("h3",{id:"retrieve-metadata-of-media"},"Retrieve metadata of media"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"final media = Media.network(\n  'https://www.example.com/media.mp3',\n  parse: true,\n  timeout: Duration(seconds: 10),\n);\n\nMap<String, String> metas = media.metas;\n")),(0,l.kt)("h3",{id:"listen-to-playback-events"},"Listen to playback events"),(0,l.kt)("p",null,"(Same can be retrieved directly from ",(0,l.kt)("inlineCode",{parentName:"p"},"Player")," instance without having to rely on stream)."),(0,l.kt)("p",null,"Listen to currently loaded media & playlist index changes."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.currentStream.listen((CurrentState state) {\n  state.index;\n  state.media;\n  state.medias;\n  state.isPlaylist;\n});\n")),(0,l.kt)("p",null,"Listen to playback position & media duration."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.positionStream.listen((PositionState state) {\n  state.position;\n  state.duration;\n});\n")),(0,l.kt)("p",null,"Listen to playback states."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.playbackStream.listen((PlaybackState state) {\n  state.isPlaying;\n  state.isSeekable;\n  state.isCompleted;\n});\n")),(0,l.kt)("p",null,"Listen to volume & rate of the ",(0,l.kt)("inlineCode",{parentName:"p"},"Player"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.generalStream.listen((GeneralState state) {\n  state.volume;\n  state.rate;\n});\n")),(0,l.kt)("p",null,"Listen to dimensions of currently playing ",(0,l.kt)("inlineCode",{parentName:"p"},"Video"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.videoDimensionsStream.listen((VideoDimensions video) {\n  video.width;\n  video.height;\n});\n")),(0,l.kt)("p",null,"Listen to buffering progress of the playing ",(0,l.kt)("inlineCode",{parentName:"p"},"Media"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"player.bufferingProgressStream.listen(\n  (double event) {\n    this.setState(() {\n      this.bufferingProgress = event;\n    });\n  },\n);\n")),(0,l.kt)("h3",{id:"set-an-equalizer"},"Set an equalizer"),(0,l.kt)("p",null,"Create using preset."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"final equalizer = Equalizer.createMode(EqualizerMode.party);\nplayer.setEqualizer(equalizer);\n")),(0,l.kt)("p",null,"Create custom equalizer."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"final equalizer = Equalizer.createEmpty();\nequalizer.setPreAmp(10.0);\nequalizer.setBandAmp(31.25, -10.0);\nequalizer.setBandAmp(100.0, -10.0);\nplayer.setEqualizer(equalizer);\n")),(0,l.kt)("p",null,"Get equalizer state."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"equalizer.preAmp;\nequalizer.bandAmps;\n")),(0,l.kt)("h3",{id:"broadcast-a-media"},"Broadcast a media"),(0,l.kt)("p",null,"Broadcasting to localhost."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"final broadcast = Broadcast.create(\n  id: 0,\n  media: Media.file(File('C:/video.mp4')),\n  configuration: BroadcastConfiguration(\n    access: 'http',\n    mux: 'mpeg1',\n    dst: '127.0.0.1:8080',\n    vcodec: 'mp1v',\n    vb: 1024,\n    acodec: 'mpga',\n    ab: 128,\n  ),\n);\nbroadcast.start();\n")),(0,l.kt)("p",null,"Dispose the ",(0,l.kt)("inlineCode",{parentName:"p"},"Broadcast")," instance to release resources."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"broadcast.dispose();\n")),(0,l.kt)("h3",{id:"record-a-media"},"Record a media"),(0,l.kt)("p",null,"Thanks to ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/DomingoMG"},"@DomingoMG")," for adding ",(0,l.kt)("inlineCode",{parentName:"p"},"Record")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"Chromecast")," classes."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"final record = Record.create(\n  id: 205,\n  media: Media.network('https://www.example.com/streaming-media.MP3'),\n  pathFile: '/home/alexmercerind/recording.MP3',\n);\nrecord.start();\n")),(0,l.kt)("h2",{id:"setup"},"Setup"),(0,l.kt)("h3",{id:"windows"},"Windows"),(0,l.kt)("p",null,"Everything is already set up."),(0,l.kt)("h3",{id:"macos"},"macOS"),(0,l.kt)("p",null,"To run on macOS, install CMake through ",(0,l.kt)("a",{parentName:"p",href:"https://brew.sh"},"Homebrew"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"brew install cmake\n")),(0,l.kt)("p",null,"If you encounter the error ",(0,l.kt)("inlineCode",{parentName:"p"},"cmake: command not found")," during archiving:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Download ",(0,l.kt)("a",{parentName:"li",href:"https://cmake.org/download/"},"CMake")," and move it to the ",(0,l.kt)("inlineCode",{parentName:"li"},"Applications")," Folder."),(0,l.kt)("li",{parentName:"ol"},"Run:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'sudo "/Applications/CMake.app/Contents/bin/cmake-gui" --install\n')),(0,l.kt)("h3",{id:"linux"},"Linux"),(0,l.kt)("p",null,"For using this plugin on Linux, you must have ",(0,l.kt)("a",{parentName:"p",href:"https://www.videolan.org"},"VLC")," & ",(0,l.kt)("a",{parentName:"p",href:"https://www.videolan.org/vlc/libvlc.html"},"libVLC")," installed."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"On Ubuntu/Debian:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install vlc\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install libvlc-dev\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"On Fedora:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf install https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf install vlc\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf install vlc-devel\n")),(0,l.kt)("h3",{id:"ios-wip"},"iOS ","[WIP]"),(0,l.kt)("p",null,"Disable bitcode generation for the whole project for MobileVLC to work.\nAdd the following to the ",(0,l.kt)("inlineCode",{parentName:"p"},"post_install")," function living in the ",(0,l.kt)("inlineCode",{parentName:"p"},"Podfile")," of your iOS Flutter project. For reference look at the ",(0,l.kt)("inlineCode",{parentName:"p"},"Podfile")," in the example project."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ruby"},"target.build_configurations.each do |config|\n    config.build_settings['ENABLE_BITCODE'] = 'NO'\nend\n")),(0,l.kt)("p",null,"For the example project to work you need to configure a real device in the xcode project, or comment out the build script ",(0,l.kt)("inlineCode",{parentName:"p"},"Build Device lib")," in in ",(0,l.kt)("inlineCode",{parentName:"p"},"ios/dart_vlc.podspec"),"."),(0,l.kt)("h2",{id:"example"},"Example"),(0,l.kt)("p",null,"You can see an example project ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/alexmercerind/dart_vlc/blob/master/example/lib/main.dart"},"here"),"."),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://github.com/alexmercerind/dart_vlc/blob/assets/dart_vlc_6.png?raw=true",alt:null})),(0,l.kt)("p",null,"dart_vlc running on Ubuntu Linux."),(0,l.kt)("h2",{id:"workings"},"Workings"),(0,l.kt)("p",null,"The repository contains a ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/alexmercerind/dart_vlc/tree/master/dartvlc"},"C++ wrapper")," based on libVLC++. This makes handling of events and controls a lot easier & has additional features in it.\nI preferred to do majority of handling in C++ itself, thus Dart code is minimal & very slight mapping to it."),(0,l.kt)("p",null,"This project might seem like a Flutter plugin, but it is based on FFI instead. ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/alexmercerind/dart_vlc/tree/master/ffi"},"Here")," are the FFI bindings to ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/alexmercerind/dart_vlc/tree/master/dartvlc"},"C++ wrapper"),", which are shared by all platforms & same can be used in Dart CLI apps aswell."),(0,l.kt)("h2",{id:"features"},"Features"),(0,l.kt)("p",null,"Done"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Media")," playback from ",(0,l.kt)("inlineCode",{parentName:"li"},"File"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Media")," playback from network."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Media")," playback from assets."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"play"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"pause"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"playOrPause"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"stop"),"."),(0,l.kt)("li",{parentName:"ul"},"Multiple ",(0,l.kt)("inlineCode",{parentName:"li"},"Player")," instances."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Playlist"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"next"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"back"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"jump")," for playlists."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"setVolume"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"setRate"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"seek"),"."),(0,l.kt)("li",{parentName:"ul"},"Events."),(0,l.kt)("li",{parentName:"ul"},"Automatic fetching of headers, libs & shared libraries."),(0,l.kt)("li",{parentName:"ul"},"Changing VLC version from CMake."),(0,l.kt)("li",{parentName:"ul"},"Event streams.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Player.currentState"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"index"),": Index of current media in ",(0,l.kt)("inlineCode",{parentName:"li"},"Playlist"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"medias"),": List of all opened ",(0,l.kt)("inlineCode",{parentName:"li"},"Media"),"s."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"media"),": Currently playing ",(0,l.kt)("inlineCode",{parentName:"li"},"Media"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"isPlaylist"),": Whether a single ",(0,l.kt)("inlineCode",{parentName:"li"},"Media")," is loaded or a ",(0,l.kt)("inlineCode",{parentName:"li"},"Playlist"),"."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Player.positionState"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"position"),": Position of currently playing media in ",(0,l.kt)("inlineCode",{parentName:"li"},"Duration"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"duration"),": Position of currently playing media in ",(0,l.kt)("inlineCode",{parentName:"li"},"Duration"),"."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Player.playbackState"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"isPlaying"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"isSeekable"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"isCompleted"),"."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Player.generalState"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"volume"),": Volume of current ",(0,l.kt)("inlineCode",{parentName:"li"},"Player")," instance."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"rate"),": Rate of current ",(0,l.kt)("inlineCode",{parentName:"li"},"Player")," instance."))))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"add"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"insert"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"remove"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"move")," ",(0,l.kt)("inlineCode",{parentName:"li"},"Media")," inside ",(0,l.kt)("inlineCode",{parentName:"li"},"Playlist")," during playback."),(0,l.kt)("li",{parentName:"ul"},"Device enumeration & changing."),(0,l.kt)("li",{parentName:"ul"},"Retrieving ",(0,l.kt)("inlineCode",{parentName:"li"},"Meta")," of a ",(0,l.kt)("inlineCode",{parentName:"li"},"Media"),"."),(0,l.kt)("li",{parentName:"ul"},"Embedding ",(0,l.kt)("inlineCode",{parentName:"li"},"Video")," inside the Flutter window."),(0,l.kt)("li",{parentName:"ul"},"Supporting live streaming links."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Broadcast")," class for broadcasting ",(0,l.kt)("inlineCode",{parentName:"li"},"Media"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Record")," class for recording ",(0,l.kt)("inlineCode",{parentName:"li"},"Media"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Chromecast")," class."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Equalizer")," support."),(0,l.kt)("li",{parentName:"ul"},"Adding headers for ",(0,l.kt)("inlineCode",{parentName:"li"},"Media.network")," (Not possible, added user agent)."),(0,l.kt)("li",{parentName:"ul"},"Switching to FFI for more cross platform freedom."),(0,l.kt)("li",{parentName:"ul"},"Changing ",(0,l.kt)("inlineCode",{parentName:"li"},"Video"),"'s frame size according to video."),(0,l.kt)("li",{parentName:"ul"},"Saving snapshot.")),(0,l.kt)("p",null,"Under progress or planned features (irrespective of order)..."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Removing ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/videolan/libvlcpp"},"libVLC++")," dependency. (Maybe)."),(0,l.kt)("li",{parentName:"ul"},"Subtitle control."),(0,l.kt)("li",{parentName:"ul"},"Audio track control."),(0,l.kt)("li",{parentName:"ul"},"Writing metadata tags."),(0,l.kt)("li",{parentName:"ul"},"Making things more efficient."),(0,l.kt)("li",{parentName:"ul"},"Supporting native volume control/lock screen notifications (Maybe)."),(0,l.kt)("li",{parentName:"ul"},"Bringing project on other platforms like Android/iOS (Maybe)."),(0,l.kt)("li",{parentName:"ul"},"D-Bus MPRIS controls for ",(0,l.kt)("inlineCode",{parentName:"li"},"Media")," playback control (Maybe).")),(0,l.kt)("h2",{id:"acknowledgements"},"Acknowledgements"),(0,l.kt)("p",null,"First of all, thanks to the ",(0,l.kt)("a",{parentName:"p",href:"https://www.videolan.org"},"VideoLAN")," team for creating ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/videolan/vlc"},"libVLC")," & ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/videolan/libvlcpp"},"libVLC++"),". Really great guys really great at their work."),(0,l.kt)("p",null,"Thanks to ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/jnschulze"},"@jnschulze")," for his awesome contributions to this project & to Flutter engine itself like adding texture support."),(0,l.kt)("p",null,"Thanks to ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/krjw-eyev"},"@krjw-eyev")," for working on iOS support."),(0,l.kt)("p",null,"Thanks to ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/jnschulze"},"@jnschulze")," & ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/namniav"},"@namniav")," for working on macOS support."),(0,l.kt)("p",null,"Thanks to following members of libVLC community (irrespective of the order) for giving general ideas about libVLC APIs:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/jeremyVignelles"},"@jeremyVignelles")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/chouquette"},"@chouquette")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/mfkl"},"@mfkl")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/caprica"},"@caprica"))),(0,l.kt)("h2",{id:"contributions"},"Contributions"),(0,l.kt)("p",null,"The code in the project is nicely arranged and follows the clean architecture."),(0,l.kt)("p",null,"Contributions to the project are open, it will be appreciated if you discuss the bug-fix/feature-addition in the issues first."),(0,l.kt)("h2",{id:"license"},"License"),(0,l.kt)("p",null,"Copyright (C) 2021, Hitesh Kumar Saini ",(0,l.kt)("a",{parentName:"p",href:"mailto:saini123hitesh@gmail.com"},"saini123hitesh@gmail.com"),"."),(0,l.kt)("p",null,"This library & work under this repository is licensed under GNU Lesser General Public License v2.1."),(0,l.kt)("h2",{id:"vision"},"Vision"),(0,l.kt)("p",null,"There aren't any media (audio or video) playback libraries for Flutter or Dart on Windows/Linux yet. So, this project is all about that.\nAs one might be already aware, VLC is one of the best media playback tools out there."),(0,l.kt)("p",null,"So, now you can use it to play audio or video files from Flutter or Dart apps."),(0,l.kt)("p",null,"As the project has grown, awesome people from community have added support for iOS & macOS aswell."))}k.isMDXComponent=!0}}]);